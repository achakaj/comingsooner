(()=>{"use strict";jQuery(document).ready((function(e){e("#coming-soon-toggle").on("change",(function(){const t=e(this).is(":checked");e.ajax({url:comingSoonerData.ajaxUrl,method:"POST",data:{action:"coming_sooner_toggle",nonce:comingSoonerData.nonce,active:t},success(a){a.success?alert(a.data.message):(alert("Error: "+(a.data||"Unknown error")),e("#coming-soon-toggle").prop("checked",!t))},error(){alert("AJAX error. Please try again."),e("#coming-soon-toggle").prop("checked",!t)}})})),e('input[name="template_type"]').on("change",(function(){const t=e(this).val();e.ajax({url:comingSoonerData.ajaxUrl,method:"POST",data:{action:"coming_sooner_save_template_type",nonce:comingSoonerData.nonce,template_type:t},success(a){a.success?"default"===t?(e(".default-templates").show(),e(".elementor-templates").hide()):"elementor"===t&&(e(".default-templates").hide(),e(".elementor-templates").show()):alert("Error saving template type.")},error(){alert("AJAX error saving template type.")}})})),e(".select-template").on("click",(function(t){t.preventDefault();const a=e(this).data("template-id"),o=e(this).data("template-type"),n=e("default"===o?".default-templates .template-card":".elementor-templates .template-card");e.ajax({url:comingSoonerData.ajaxUrl,method:"POST",data:{action:"coming_sooner_save_template",nonce:comingSoonerData.nonce,template_id:a,template_type:o},success(t){t.success?(alert(t.data.message),n.removeClass("selected"),n.filter((function(){return e(this).find(".select-template").data("template-id")===a})).addClass("selected")):alert("Error saving template selection.")},error(){alert("AJAX error saving template selection.")}})})),e("#install-elementor").on("click",(function(t){if(t.preventDefault(),!confirm(comingSoonerData.confirmInstall))return;const a=e(this);a.prop("disabled",!0).text("Installing..."),e.ajax({url:comingSoonerData.ajaxUrl,method:"POST",data:{action:"coming_sooner_install_elementor",nonce:comingSoonerData.nonce},success(e){e.success?(alert(e.data.message),e.data.reload&&location.reload()):(alert("Error installing Elementor: "+(e.data||"Unknown error")),a.prop("disabled",!1).text("Install Elementor Now"))},error(){alert("AJAX error during Elementor installation."),a.prop("disabled",!1).text("Install Elementor Now")}})}))}))})();